**Контролы**

Контролы в Avalonia UI — это основные строительные блоки для создания пользовательских интерфейсов. Они представляют собой различные интерактивные элементы, такие как кнопки, текстовые поля, слайдеры и многое другое. Понимание работы с контролами является ключевым для разработки приложений с использованием Avalonia UI.

## Что такое контролы?

Контролы — это элементы пользовательского интерфейса, которые позволяют пользователям взаимодействовать с приложением. Они обеспечивают функциональность для ввода, отображения и обработки данных. Контролы можно классифицировать на несколько типов в зависимости от их назначения и поведения:

- **Кнопки (Buttons)**: Кнопки используются для выполнения действий при нажатии или касании. Они могут содержать текст, иконки или оба элемента и часто применяются для отправки форм, открытия диалоговых окон или выполнения команд.
- **Текстовые поля (Text Boxes)**: Позволяют пользователям вводить и редактировать текст. Используются для ввода данных, таких как имена пользователей, пароли или другая текстовая информация. Текстовые поля можно настроить для определенных шаблонов ввода и проверки данных.
- **Метки (Labels)**: Используются для отображения статичного текста или подписей к другим элементам управления. Метки предоставляют пользователю дополнительную информацию или контекст и обычно не являются интерактивными.
- **Флажки и переключатели (Checkboxes and Radio Buttons)**: Применяются для выбора и работы с вариантами выбора. Флажки позволяют выбирать несколько опций, а переключатели ограничивают выбор одним вариантом из группы.
- **Слайдеры (Sliders)**: Используются для выбора значения из диапазона. Обеспечивают визуальное представление значения, которое можно изменить, перетаскивая ползунок по дорожке. Чаще всего применяются для таких настроек, как регулировка громкости или параметры изображения.
- **Списки и выпадающие списки (ListBoxes and ComboBoxes)**: Позволяют пользователям выбирать элемент из списка или выпадающего меню. Списки (ListBoxes) отображают несколько элементов сразу, тогда как выпадающие списки (ComboBoxes) изначально показывают один элемент, а при нажатии раскрывают полный список.

Это лишь несколько примеров множества доступных в Avalonia UI контролов. Каждый из них имеет собственный набор свойств, методов и событий, что позволяет разработчикам адаптировать их внешний вид и поведение под нужды приложения.

## Начало работы с встроенными контролами

Для начала работы с контролами Avalonia UI вы можете обратиться к документации для каждого типа контрола. В документации содержатся подробные объяснения, примеры и фрагменты кода, помогающие эффективно использовать контролы.

- [Документация по кнопкам](../../../reference/controls/buttons/button)
- [Документация по текстовым полям](../../../reference/controls/textbox)
- [Документация по меткам](../../../reference/controls/label)
- [Документация по флажкам](../../../reference/controls/checkbox)
- [Документация по слайдерам](../../../reference/controls/slider)
- [Документация по спискам](../../../reference/controls/listbox)

Изучив эти ресурсы, вы получите прочную основу для использования контролов в Avalonia UI и сможете создавать богатые и интерактивные пользовательские интерфейсы для ваших приложений.

## Типы встроенных контролов

Встроенные контролы Avalonia UI можно условно классифицировать на следующие типы:

- Рисуемые контролы (Drawn Controls)
- Контролы компоновки (Layout Controls)
- Пользовательские контролы (User Controls)*
- Шаблонные контролы (Templated Controls)
  - Полностью настраиваемые
  - Частично настраиваемые

*Пользовательские контролы доступны только для приложений.

:::note  
Эти классификации частично связаны с обсуждением в статье [Выбор типа пользовательского контрола](creating-controls/choosing-a-custom-control-type).  
:::

### Рисуемые контролы

Рисуемые контролы отвечают за создание собственной геометрии или битмапов и их рендеринг. Примеры таких контролов: `Border`, `TextBlock`, `Image`. Они являются основой для построения всех остальных контролов.

Большинство рисуемых контролов имеют стандартные свойства для настройки их внешнего вида и размеров, но не позволяют изменять шаблон (re-templating). Чтобы изменить их функциональность или стиль, разработчикам приложений нужно создавать производные классы на C# и перехватывать методы рендеринга.

### Контролы компоновки

Контролы компоновки сами по себе не имеют внешнего вида. Такие контролы, как `Grid`, `StackPanel` и другие, отвечают за компоновку своих дочерних элементов и работают как контейнеры. Дочерние элементы управления отвечают за рендеринг, в то время как контрол компоновки только задает размеры и положение.

Изменение встроенных контролов компоновки в рамках приложений — редкая практика.

:::note  
Некоторые контролы компоновки, такие как `Grid`, имеют свойства, такие как `Background`, чтобы упростить общие случаи использования. Эти свойства придают контролам некоторый внешний вид.  
:::

### Пользовательские контролы

_Avalonia UI_ не предоставляет `UserControl` по умолчанию, так как они не считаются универсальными. Подробнее о создании и использовании `UserControl` в вашем приложении можно узнать в разделе [Выбор типа пользовательского контрола](creating-controls/choosing-a-custom-control-type).

### Шаблонные контролы

Большинство стандартных контролов Avalonia UI являются шаблонными. Это означает, что их визуальный внешний вид определяется в XAML-шаблоне, который отделен от функциональности. Это основа концепции контролов без жестко заданного внешнего вида, возникшей в WPF.

Разработчики приложений могут изменять XAML-шаблон шаблонного контрола и полностью изменять его внешний вид. Эта возможность отсутствует во многих UI-фреймворках, и она является одной из самых мощных функций фреймворков на основе XAML.

:::note  
Перешаблонизация (re-templating) должна быть крайней мерой для разработчиков. Это также означает, что вы будете нести ответственность за обновление шаблона при любых изменениях в основной версии. Вместо этого рекомендуется:

1. Попробовать использовать существующие свойства для настройки контрола.
2. Создать новый стиль с использованием мощных селекторов стилей Avalonia UI, чтобы внести изменения в существующий шаблон.
3. И только в крайнем случае использовать перешаблонизацию.  
   :::

#### Полностью настраиваемые

Большинство шаблонных контролов Avalonia UI полностью настраиваемые. Это означает, что можно полностью заменить шаблон контрола и изменить его внешний вид. Например, `Button` — хороший пример полностью настраиваемого контрола. Такие контролы дают приложениям практически полную возможность стилизовать или изменять все, что отображается в UI.

#### Частично настраиваемые

Не всегда возможно сделать контрол полностью настраиваемым. В случае сложных контролов, таких как `DataGrid`, акцент делается на поддержке типичных сценариев использования, и контрол не может (и не должен) быть полностью перешаблонизирован. Такие контролы обычно имеют множество частей шаблона, которые напрямую используются C#-реализацией.

Например, в случае `DataGrid` можно изменить отдельные компоненты или части контрола, но полностью изменить его внешний вид и функциональность крайне сложно.

Частично настраиваемые шаблонные контролы, такие как `DataGrid`, встречаются редко среди встроенных контролов фреймворка.

## Создание контролов

В Avalonia вы можете создавать собственные контролы всех типов, адаптированные к требованиям вашего приложения. Подробнее смотрите в разделе [Создание контролов](creating-controls).  